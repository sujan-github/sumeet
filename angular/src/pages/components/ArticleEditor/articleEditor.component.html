<div class="container" [hidden]="showPreview">
    <section [hidden]="onChangingProgress">
        <div class="row">
            <div class="col-md-12">
                <h2>All Pages</h2>
                <ul class="pageList">
                    <li *ngFor="let post of pages" class="col-sm-4" (click)="getPageInfo(post.Id)">
                        <h3>{{post.PageTitle}}</h3>
                        <iframe class="img-responsive" [srcdoc]="post.Content"></iframe>
                    </li>
                </ul>
            </div>
        </div>
    </section>
    <div class="row">
        <div class="col-md-12">
            <button (click)="toggleForm()" class="btn btn-primary right">
                <span [hidden]="!onChangingProgress">
                    <span class="fa fa-angle-double-left"></span> Back to All Posts</span>
                <span [hidden]="onChangingProgress">Add new Page</span>
            </button>
        </div>
    </div>
    <section class="post" [hidden]="!onChangingProgress">
        <form>
            <h2>Setup Page</h2>
            <div class="form-group">

                <label for="Name" class="control-label">Menu Title</label>
                <div class="row">
                    <div class="col-md-6">
                        <input type="text" class="form-control" name="Name" [(ngModel)]="currentMenu.Name" />
                    </div>
                    <div class="col-md-6">
                        <select [(ngModel)]="currentMenu.ParentId" name="ParentId" class="form-control pull-left">
                            <option value=0>Select a parent menu</option>
                            <option *ngFor="let menu of menus">{{menu.Name}}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="PageTitle" class="control-label">Page Title</label>
                <div class="row">
                    <div class="col-md-12">
                        <input type="text" class="form-control" name="PageTitle" [(ngModel)]="currentPage.PageTitle" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <section class="templates">
                        <a (click)="toggleSideBar()" href="javascript:void(0)" class="btn btn-primary pull-right">Pick a layout</a>
                        <div id="mySidenav" class="sidenav">
                            <a class="closebtn" (click)="toggleSideBar()">&times;</a>
                            <ul class="list-unstyled">
                                <li *ngFor="let template of templates" (click)="templateSelected(template.template)">
                                    <figure class="figure thumbnail" style="cursor: pointer">
                                        <iframe class="img-responsive" [srcdoc]="template.safeHtml"></iframe>
                                    </figure>
                                </li>
                            </ul>
                        </div>
                    </section>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <ck-editor name="Content" [(ngModel)]="currentPage.Content" skin="moono-lisa" lang="en" [fullPage]="true">
                    </ck-editor>
                </div>
            </div>
            <div class="row">
                <div class="col-12  text-right">
                    <button type="button" (click)="togglePreview()" class="btn btn-primary right">Preview</button>
                    <button type="button" (click)="savePage()" class="btn btn-primary right">Save</button>
                </div>
            </div>
        </form>
    </section>
</div>
<div class="container">
    <div [hidden]="!showPreview">
        <a href="javascript:void(0)" (click)="togglePreview()" class="btn btn-control">
            <span class="fa fa-angle-double-left"></span> Close Preview
        </a>
        <div [innerHtml]="currentPage.Content"></div>
    </div>
</div>